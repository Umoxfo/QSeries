<?xml version="1.0"?>
<!--
************************************************************************
de Havilland DHC8-400Q/Bombardier Q400
Jan 2009 Alex Park
FDM based on Alex Park Dash 8 300Q adapted for the Dash8 - 400Q
new version with up-to-date systems, JSBSim FDM, a complete new ex- and interior model 2016 by Florian K, D-ECHO, Joshua Davidson and more
************************************************************************
-->

<PropertyList include="qseries-common.xml">
	<limits>
		<max-flap-extension-speed>
			<flaps>0.142</flaps>
			<speed>200</speed>
		</max-flap-extension-speed>
		<max-flap-extension-speed>
			<flaps>0.284</flaps>
			<speed>181</speed>
		</max-flap-extension-speed>
		<max-flap-extension-speed>
			<flaps>0.426</flaps>
			<speed>172</speed>
		</max-flap-extension-speed>
		<max-flap-extension-speed>
			<flaps>1</flaps>
			<speed>158</speed>
		</max-flap-extension-speed>
        
		<vne>370</vne>
        
		<max-gear-extension-speed>215</max-gear-extension-speed>
        
		<max-positive-g>4.4</max-positive-g>
		<max-negative-g>-1.76</max-negative-g>
		
		<mass-and-balance>
			<mtow-lbs>61700</mtow-lbs>
		</mass-and-balance>
	</limits>
	<sim>
		<description>Bombardier Q400 (JSBSim)</description>
		<status>Alpha development</status>
		<author>Alex Park (Maverickalex), Florian K, D-ECHO, Joshua Davidson (it0uchpods)</author>
		<flight-model>jsb</flight-model>
		<aero>q400-jsb</aero>
		<fuel-fraction>0.5</fuel-fraction>
		<startup>
			<splash-texture>Aircraft/QSeries/Splash.png</splash-texture>
		</startup>
		<status>early production</status>
		<rating>
			<FDM type="int">3</FDM>
			<systems type="int">4</systems>
			<cockpit type="int">5</cockpit><!--thanks to FlorianK!!-->
			<model type="int">5</model><!--thanks to FlorianK!!-->
		</rating>
		<previews>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior1.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior2.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior3.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior4.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior5.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior6.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior7.jpg</path>
			</preview>
			<preview>
				<type>exterior</type>
				<splash type="bool">true</splash>
				<path>Splash/exterior8.jpg</path>
			</preview>
			<preview>
				<type>cockpit</type>
				<splash type="bool">true</splash>
				<path>Splash/cockpit1.jpg</path>
			</preview>
			<preview>
				<type>cockpit</type>
				<splash type="bool">true</splash>
				<path>Splash/cockpit2.jpg</path>
			</preview>
			<preview>
				<type>cockpit</type>
				<splash type="bool">true</splash>
				<path>Splash/cockpit3.jpg</path>
			</preview>
		</previews>
		<systems>
			<autopilot n="2">
				<path>Aircraft/QSeries/Systems/flight-controls.xml</path>
			</autopilot>
		</systems>
		<!--Fallback for older FG versions-->
		<startup>
			<splash-texture>Aircraft/QSeries/Splash/exterior1.png</splash-texture>
		</startup>

		<model>
			<path>Aircraft/QSeries/Models/DH8D.xml</path>
			<livery> 
				<file type="string"/>
				<enable-hud type="bool">0</enable-hud>
			</livery> 
			<start-idling type="bool">0</start-idling>
			<variant type="int">1</variant>
			<interior>
				<seats type="double">74</seats>
			</interior>
			<always-show-hud type="bool">0</always-show-hud>
		</model>
		
		<view n="0">
			<name>Cockpit</name>
			<type>lookfrom</type>
			<internal type="bool">true</internal>
			<config>
				<default-field-of-view-deg>90</default-field-of-view-deg>
				<x-offset-m type="double">-0.4577</x-offset-m>
				<y-offset-m type="double">2.682</y-offset-m>
				<z-offset-m type="double">-11.4083</z-offset-m>
				<pitch-offset-deg>-14</pitch-offset-deg>
			</config>
		</view>
		<view n="101">
			<name>Cabin View</name>
			<type>lookfrom</type>
			<internal type="bool">true</internal>
			<config>
				<from-model type="bool">true</from-model>
				<from-model-idx type="int">0</from-model-idx>
				<ground-level-nearplane-m type="double">0.5</ground-level-nearplane-m>
				<default-field-of-view-deg type="double">80.0</default-field-of-view-deg>
				<default-pitch-deg type="double">0</default-pitch-deg>
				<default-heading-deg type="double">0</default-heading-deg>
				<front-direction-deg type="double">0</front-direction-deg>
				<front-left-direction-deg type="double">45</front-left-direction-deg>
				<left-direction-deg type="double">90</left-direction-deg>
				<back-left-direction-deg type="double">135</back-left-direction-deg>
				<back-direction-deg type="double">180</back-direction-deg>
				<back-right-direction-deg type="double">225</back-right-direction-deg>
				<right-direction-deg type="double">270</right-direction-deg>
				<front-right-direction-deg type="double">315</front-right-direction-deg>
				<x-offset-m type="double">-0.90</x-offset-m>
				<y-offset-m type="double">2.8</y-offset-m>
				<z-offset-m type="double">3.6</z-offset-m>
				<pitch-offset-deg>0</pitch-offset-deg>
			</config>
			<dynamic>
				<enabled type="bool" userarchive="y">false</enabled>
			</dynamic>
		</view>
		<view n="102">
			<name>Stewardess 360 View</name>
			<type>lookfrom</type>
			<internal type="bool">true</internal>
			<config>
				<from-model type="bool">true</from-model>
				<from-model-idx type="int">0</from-model-idx>
				<ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
				<default-field-of-view-deg type="double">80.0</default-field-of-view-deg>
				<default-pitch-deg type="double">0</default-pitch-deg>
				<default-heading-deg type="double">180</default-heading-deg>
				<front-direction-deg type="double">180</front-direction-deg>
				<front-left-direction-deg type="double">135</front-left-direction-deg>
				<left-direction-deg type="double">90</left-direction-deg>
				<back-left-direction-deg type="double">45</back-left-direction-deg>
				<back-direction-deg type="double">0</back-direction-deg>
				<back-right-direction-deg type="double">315</back-right-direction-deg>
				<right-direction-deg type="double">270</right-direction-deg>
				<front-right-direction-deg type="double">225</front-right-direction-deg>
				<x-offset-m type="double">0</x-offset-m>
				<y-offset-m type="double">2.8</y-offset-m>
				<z-offset-m type="double">-6.927</z-offset-m>
				<pitch-offset-deg>0</pitch-offset-deg>
			</config>
			<dynamic>
				<enabled type="bool" userarchive="y">false</enabled>
			</dynamic>
		</view>
		<view n="103">
			<name>Copilot View</name>
			<type>lookfrom</type>
			<internal type="bool">true</internal>
			<config>
				<from-model type="bool">true</from-model>
				<from-model-idx type="int">0</from-model-idx>
				<ground-level-nearplane-m type="double">0.5</ground-level-nearplane-m>
				<default-field-of-view-deg type="double">80.0</default-field-of-view-deg>
				<default-pitch-deg type="double">0</default-pitch-deg>
				<default-heading-deg type="double">0</default-heading-deg>
				<front-direction-deg type="double">0</front-direction-deg>
				<front-left-direction-deg type="double">45</front-left-direction-deg>
				<left-direction-deg type="double">90</left-direction-deg>
				<back-left-direction-deg type="double">135</back-left-direction-deg>
				<back-direction-deg type="double">180</back-direction-deg>
				<back-right-direction-deg type="double">225</back-right-direction-deg>
				<right-direction-deg type="double">270</right-direction-deg>
				<front-right-direction-deg type="double">315</front-right-direction-deg>
				<default-field-of-view-deg>90</default-field-of-view-deg>
				<x-offset-m type="double">0.4577</x-offset-m>
				<y-offset-m type="double">2.682</y-offset-m>
				<z-offset-m type="double">-11.4083</z-offset-m>
				<pitch-offset-deg>-14</pitch-offset-deg>
			</config>
			<dynamic>
				<enabled type="bool" userarchive="y">false</enabled>
			</dynamic>
		</view>
		<view n="1">
			<config>
				<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>
		<view n="2">
			<config>
				<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>
		<view n="3">
			<config>
				<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>
		<view n="4">
			<config>
				<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>
		<view n="5">
			<config>
				<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>
		<view n="6">
			<config>
				<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>
		<view n="7">
			<config>
			<target-y-offset-m archive="y" type="double">3.5</target-y-offset-m>
			</config>
		</view>

		<menubar>
			<default>
				<menu n="10">
					<label>Bombardier Q400</label>
					<enabled type="bool">true</enabled>
					<item>
						<label>Autostart</label>
						<binding>
							<command>nasal</command>
							<script>q400.autostartupthing();</script>
						</binding>
					</item>                   
					<item>
						<label>Select Livery</label>
						<binding>
							<command>nasal</command>
							<script>aircraft.livery.dialog.toggle()</script>
						</binding>
					</item>
					<item n="10">
						<label>Pushback</label>
						<name>pushback</name>
						<binding>
							<command>dialog-show</command>
							<dialog-name>pushback</dialog-name>
						</binding>
					</item>
					<item>
						<label>Ground Services</label>
						<binding>
							<command>dialog-show</command>
							<dialog-name>groundservices</dialog-name>
						</binding>
					</item>
					<!--item>
						<label>Fuel and Payload</label>
						<binding>
							<command>nasal</command>
							<script>dialogs.FuelPayloadClass.open()</script>
						</binding>
					</item-->
					<item>
						<label>Checklists</label>
						<binding>
							<command>dialog-show</command>
							<dialog-name>checklists</dialog-name>
						</binding>
					</item>
					<item>
						<label>Put aircraft on jacks</label>
						<binding>
							<command>property-toggle</command>
							<property>controls/gear/jacks</property>
						</binding>
					</item>
				</menu>
			</default>
		</menubar>
		
		<checklists include="Dialogs/checklists.xml"/>
		<color-set>
			<white>
				<r type="float">0.9</r>
				<g type="float">0.9</g>
				<b type="float">0.9</b>
				<a type="float">1.0</a>
			</white>
			<red>
				<r type="float">0.9</r>
				<g type="float">0.0</g>
				<b type="float">0.0</b>
				<a type="float">1.0</a>
			</red>
			<yellow>
				<r type="float">0.9</r>
				<g type="float">0.9</g>
				<b type="float">0.0</b>
				<a type="float">1.0</a>
			</yellow>
			<green>
				<r type="float">0.0</r>
				<g type="float">0.9</g>
				<b type="float">0.0</b>
				<a type="float">1.0</a>
			</green>
			<cyan>
				<r type="float">0.0</r>
				<g type="float">0.9</g>
				<b type="float">0.9</b>
				<a type="float">1.0</a>
			</cyan>
			<blue>
				<r type="float">0.0</r>
				<g type="float">0.0</g>
				<b type="float">0.9</b>
				<a type="float">1.0</a>
			</blue>
			<magenta>
				<r type="float">0.9</r>
				<g type="float">0.0</g>
				<b type="float">0.9</b>
				<a type="float">1.0</a>
			</magenta>
			<amber>
				<r type="float">0.9</r>
				<g type="float">0.5</g>
				<b type="float">0.0</b>
				<a type="float">1.0</a>
			</amber>
		</color-set>
		
		<tutorials include="Tutorials/tutorials.xml"/>
		<multiplay>
			<generic>
				<string n="0" alias="/sim/aero"/>
				<string n="1" alias="/sim/multiplay/callsign"/>
				<int n="0" alias="/sim/model/blunt-nose"/>
				<int n="1" alias="/sim/model/display-callsign"/>

				<int n="9" alias="/sim/model/lights/nav-lights/state"/>
				<int n="10" alias="/sim/model/lights/landing-light[0]/state"/>
				<int n="11" alias="/sim/model/lights/landing-light[1]/state"/>
				<int n="12" alias="/sim/model/lights/taxi-lights/state"/>
				<int n="13" alias="/sim/model/lights/strobe/state"/>
				<int n="14" alias="/sim/model/lights/beacon/state"/>
				
				<float n="0" alias="/fdm/jsbsim/fcs/yaw-sum-lag"/>
				<float n="1" alias="/fdm/jsbsim/hydraulics/elevators/final"/>
				<float n="2" alias="/fdm/jsbsim/hydraulics/ailerons/final"/>
				<float n="3" alias="/systems/electrical/outputs/nav-lights">       0 </float>
				<float n="4" alias="/systems/electrical/outputs/landing-light[0]"> 0 </float>
				<float n="5" alias="/systems/electrical/outputs/landing-light[1]"> 0 </float>
				<float n="6" alias="/systems/electrical/outputs/taxi-lights">      0 </float>
				<float n="7" alias="/systems/electrical/outputs/strobe">           0 </float>
				<float n="8" alias="/systems/electrical/outputs/beacon">           0 </float>
				<float n="9" alias="/systems/electrical/volts">                    0 </float>
				<float n="15" alias="/gear/gear/position-norm">                    1 </float>
				<float n="16" alias="/gear/gear[1]/position-norm">                 1 </float>
				<float n="17" alias="/gear/gear[2]/position-norm">                 1 </float>
				<float n="18" alias="/sim/model/door-positions/passengerF/position-norm"/>
				<float n="19" alias="/sim/model/door-positions/passengerLH/position-norm"/>
				<float n="20" alias="/sim/model/door-positions/passengerRF/position-norm"/>
				<float n="21" alias="/sim/model/door-positions/passengerRH/position-norm"/>
				<float n="22" alias="/sim/model/door-positions/cargo/position-norm"/>
			</generic>
		</multiplay>
    
	</sim>
	
	<FADEC>
		<thrust-mode n="0" type="string"></thrust-mode>
		<thrust-mode n="1" type="string"></thrust-mode>
	</FADEC>
	
	<payload>
		<weight n="0">
			<name>Cockpit Crew</name>
			<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[0]" />
			<min-lb type="double">200</min-lb>
			<max-lb type="double">440</max-lb>
		</weight>
		<weight n="1">
			<name>PAX Front (43 seats)</name>
			<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[1]" />
			<min-lb type="double">300</min-lb>
			<max-lb type="double">9460</max-lb>
		</weight>
		<weight n="2">
			<name>PAX Rear (43 seats)</name>
			<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[2]" />
			<min-lb type="double">300</min-lb>
			<max-lb type="double">9460</max-lb>
		</weight>
		<weight n="3">
			<name>Cargo</name>
			<weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[3]" />
			<min-lb type="double">0</min-lb>
			<max-lb type="double">4710</max-lb>
		</weight>
	</payload>
	
	<instrumentation>
		<comm n="0">
			<selected type="bool">0</selected>
		</comm>
		<elt>
			<on type="bool">0</on>
			<armed type="bool">1</armed>
			<test type="bool">0</test>
		</elt>
		<ed>
			<brt type="float">0.8</brt>
		</ed>
		<mfd n="0">
			<brt type="float">0.8</brt>
			<inputs>
				<main-page type="string">nd</main-page>
			</inputs>
		</mfd>
		<mfd n="1">
			<brt type="float">0.8</brt>
			<inputs>
				<main-page type="string">nd</main-page>
			</inputs>
		</mfd>
		<pfd n="0">
			<brt type="float">0.8</brt>
		</pfd>
		<pfd n="1">
			<brt type="float">0.8</brt>
		</pfd>
		<flightrcdr>
			<gndtest type="bool">0</gndtest>
		</flightrcdr>
		<efis>
			<serviceable>1</serviceable>
			<inputs>
				<data-btn type="int">4</data-btn>
			</inputs>
		</efis>
		<cdu>
			<input type="string"/>
			<serviceable type="bool">1</serviceable>
			<display>NAVIDENT[0]</display>
			<ident>
				<model>Q400</model>
			</ident>
		</cdu>
		<PFD>
			<ias-bugs>
				<active-bug type="int">0</active-bug>
			</ias-bugs>
		</PFD>
	</instrumentation>
	
	<q400><!--TODO rename to qseries, move to common file-->
		<const>
			<JETA_LBGAL type="double">6.7898</JETA_LBGAL>
			<JETA_LB2L type="double">0.557518</JETA_LB2L>
			<JETA_USG2L type="double">3.785412</JETA_USG2L>
		</const>
	</q400>

	<nasal>  
		<global>
			<file>Aircraft/QSeries/Nasal/global.canvas.nas</file>
		</global>
		<canvas_nd>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/ND/canvas/ND.nas</file>
		</canvas_nd>
		<canvas_ed>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/ED/ED.nas</file>
		</canvas_ed>
		<canvas_mfd>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/MFD/MFD.pilot.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/MFD/MFD.copilot.nas</file>
		</canvas_mfd>
		<canvas_pfd>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/PFD/PFD.nas</file>
		</canvas_pfd>
		<canvas_team>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/TEAM/TEAM.nas</file>
		</canvas_team>
		<canvas_iesi>
			<file>Aircraft/QSeries/Models/Cockpit/Instruments/IESI/IESI.nas</file>
		</canvas_iesi><!--
		<ND>
			<file>Models/panels/ND/ND.nas</file>
		</ND>-->
		<q400>
			<file>Nasal/limits.nas</file>
			<file>Nasal/liveries.nas</file>
			<file>Nasal/startup.nas</file><!--
			<file>Nasal/systems.nas</file>-->
			<file>Nasal/doors.nas</file>
			<file>Nasal/general.nas</file>
			<file>Nasal/autoflight-helpers.nas</file>
			<file>Nasal/listeners.nas</file>
			<file>Nasal/FADEC.nas</file>
		</q400>
		<procedures>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/Procedures/fmsDB.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/Procedures/fmsWP.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/Procedures/fmsTP.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/Procedures/fmsTransition.nas</file>
		</procedures>
		<displaypages>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/CduStart.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/FltPlan.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/FltList.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/FltDeparture.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/FltDestination.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/NavPages.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/Performance.nas</file>
			<file>Aircraft/QSeries/Models/Cockpit/Pedestal/Front/CDU/DispPages/Progress.nas</file>
		</displaypages>
		<cdu>
			<file>Models/Cockpit/Pedestal/Front//CDU/CDU.nas</file>
		</cdu>
	</nasal>
</PropertyList>
