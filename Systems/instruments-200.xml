<?xml version="1.0" encoding="ISO-8859-1"?>

<PropertyList>


	<filter>
		<name>RMI selector (1)</name>
		<type>noise-spike</type>
		<input>
			<condition>
				<equals>
					<property>instrumentation/rmi/selector[0]</property>
					<value>0</value>
				</equals>
			</condition>	
			<expression>
				<difference>
					<value>360</value>
					<property>instrumentation/adf[0]/indicated-bearing-deg</property>
				</difference>
			</expression>
		</input>
		<input>
			<condition>
				<equals>
					<property>instrumentation/rmi/selector[0]</property>
					<value>1</value>
				</equals>
			</condition>
			<expression>
				<difference>
					<property>orientation/heading-deg</property>
					<property>instrumentation/nav[0]/heading-deg</property>
				</difference>
			</expression>
		</input>
		<max-rate-of-change>180</max-rate-of-change>
		<output>instrumentation/rmi/needle-deg[0]</output>
	</filter>
	<filter>
		<name>RMI selector (2)</name>
		<type>noise-spike</type>
		<input>
			<condition>
				<equals>
					<property>instrumentation/rmi/selector[1]</property>
					<value>0</value>
				</equals>
			</condition>	
			<expression>
				<difference>
					<value>360</value>
					<property>instrumentation/adf[1]/indicated-bearing-deg</property>
				</difference>
			</expression>
		</input>
		<input>
			<condition>
				<equals>
					<property>instrumentation/rmi/selector[1]</property>
					<value>1</value>
				</equals>
			</condition>
			<expression>
				<difference>
					<property>orientation/heading-deg</property>
					<property>instrumentation/nav[1]/heading-deg</property>
				</difference>
			</expression>
		</input>
		<max-rate-of-change>180</max-rate-of-change>
		<output>instrumentation/rmi/needle-deg[1]</output>
	</filter>
	
	<filter>
		<name>VMO</name>
		<type>gain</type>
		<input>	
			<condition>
				<or>
					<equals>
						<property>/sim/aero</property>
						<value>q100-jsb</value>
					</equals>
					<equals>
						<property>/sim/aero</property>
						<value>q200-jsb</value>
					</equals>
				</or>
			</condition>
			<expression>
				<table>
					<property>/instrumentation/altimeter/indicated-altitude-ft</property>
					<entry><ind>0.0</ind><dep>242</dep></entry>
					<entry><ind>14000</ind><dep>242</dep></entry>
					<entry><ind>15000</ind><dep>239</dep></entry>
					<entry><ind>20000</ind><dep>223</dep></entry>
					<entry><ind>25000</ind><dep>207</dep></entry>
				</table>
			</expression>
		</input>
		<input>	
			<condition>
				<equals>
					<property>/sim/aero</property>
					<value>q300-jsb</value>
				</equals>
			</condition>
			<expression>
				<table>
					<property>/instrumentation/altimeter/indicated-altitude-ft</property>
					<entry><ind>0.0</ind><dep>243</dep></entry>
					<entry><ind>17000</ind><dep>243</dep></entry>
					<entry><ind>20000</ind><dep>232</dep></entry>
					<entry><ind>25000</ind><dep>214</dep></entry>
				</table>
			</expression>
		</input>
		<gain>1</gain>
		<output>instrumentation/airspeed-indicator/vmo</output>
	</filter>
	
	
	
	<filter>
		<name>XPDR Knob Mode</name>
		<type>gain</type>
		<input>	
			<condition>
				<equals>
					<property>instrumentation/collins_xpdr/selection</property>
					<value>1</value>
				</equals>
			</condition>
			<property>instrumentation/transponder[0]/inputs/knob-mode</property>
		</input>
		<input>				
			<condition>
				<equals>
					<property>instrumentation/collins_xpdr/selection</property>
					<value>2</value>
				</equals>
			</condition>
			<property>instrumentation/transponder[1]/inputs/knob-mode</property>
		</input>
		<gain>1</gain>
		<output>instrumentation/collins_xpdr/knob-mode</output>
	</filter>
	
	
	<filter>
		<name>Collins XPDR</name>
		<type>gain</type>
		<input>	
			<condition>
				<greater-than>
					<property>instrumentation/airspeed-indicator/indicated-speed-kt</property>
					<property>instrumentation/airspeed-indicator/vmo</property>
				</greater-than>
			</condition>
			<value>1</value>
		</input>
		<input>	
			<condition>
				<less-than-equals>
					<property>instrumentation/airspeed-indicator/indicated-speed-kt</property>
					<property>instrumentation/airspeed-indicator/vmo</property>
				</less-than-equals>
			</condition>
			<value>0</value>
		</input>
		<gain>1</gain>
		<output>instrumentation/ovspd-horn/active</output>
	</filter>
	
	<!--Engine Instruments-->
	<!--Torque (PCT)-->
	<filter>
		<name>TRQ L</name>
		<type>gain</type>
		<input>	
			<expression>
				<div>
					<property>engines/engine[0]/thruster/torque</property>
					<value>-80</value>
				</div>
			</expression>
		</input>
		<gain>1</gain>
		<output>engines/engine[0]/thruster/torque-pct</output>
	</filter>
	<filter>
		<name>TRQ R</name>
		<type>gain</type>
		<input>	
			<expression>
				<div>
					<property>engines/engine[1]/thruster/torque</property>
					<value>-80</value>
				</div>
			</expression>
		</input>
		<gain>1</gain>
		<output>engines/engine[1]/thruster/torque-pct</output>
	</filter>
	<!--Fuel Flow (KG/H)-->
	<filter>
		<name>FF L</name>
		<type>gain</type>
		<input>engines/engine[0]/fuel-flow_pph</input>
		<gain>0.453592</gain>
		<output>engines/engine[0]/fuel-flow_kgph</output>
	</filter>
	<filter>
		<name>FF R</name>
		<type>gain</type>
		<input>engines/engine[1]/fuel-flow_pph</input>
		<gain>0.453592</gain>
		<output>engines/engine[1]/fuel-flow_kgph</output>
	</filter>
	
	
	<!--AP Lights-->

	<filter>
		<name>AP Lights</name> 
		<type>gain</type>
		<update-interval-secs type="double">0.05</update-interval-secs>
		<gain>1.0</gain>
		<input>
			<expression>
				<dif>
					<prod>
							<property>/systems/electrical/DC/lmain-bus/volts</property>
							<property>/it-autoflight/output/ap1</property>
						</prod>
						<value>25</value>
					</dif>
				</expression>
		</input>
		<output>/it-autoflight/output/ap1-lights</output>
		<min>0</min>
		<max>1</max>
	</filter>

	<filter>
		<name>YD Lights</name> 
		<type>gain</type>
		<update-interval-secs type="double">0.05</update-interval-secs>
		<gain>1.0</gain>
		<input>
			<expression>
				<dif>
					<prod>
							<property>/systems/electrical/DC/lmain-bus/volts</property>
							<property>/it-autoflight/input/yd</property>
						</prod>
						<value>25</value>
					</dif>
				</expression>
		</input>
		<output>/it-autoflight/output/yd-lights</output>
		<min>0</min>
		<max>1</max>
	</filter>
	
</PropertyList>
